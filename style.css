/* ===== RESET BÁSICO E ESTILOS GLOBAIS ===== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html, body {
    height: 100%;
    font-family: 'Merriweather', serif;
    color: #333; /* Cor de texto padrão */
}

.hidden {
    display: none !important; /* Para garantir que está escondido */
}

/* ===== FUNDO E CONTAINER PRINCIPAL ===== */
.universe-background {
    width: 100%;
    height: 100vh;
    background-image: url('assets/fundo-universo.png');
    background-size: cover;
    background-position: center;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 15px; /* Espaçamento das bordas da tela */
    overflow: hidden; /* Para evitar barras de rolagem no body */
}

/* ===== TELA INICIAL (CARTA FECHADA) ===== */
#initial-screen {
    text-align: center;
    cursor: pointer;
    /* Animação de entrada (opcional) */
    opacity: 0;
    animation: fadeIn 1s forwards;
}

@keyframes fadeIn {
    to { opacity: 1; }
}

#closed-letter-img {
    width: 130px; /* Ajuste conforme sua imagem */
    max-width: 40%;
    height: auto;
    margin-bottom: 15px;
    transition: transform 0.5s ease-in-out, opacity 0.4s ease-out;
}

#tap-to-open-text {
    color: #FFD700; /* Dourado */
    font-family: 'Cinzel Decorative', cursive;
    font-size: 1.1em;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.6);
    animation: blink-soft 1.8s infinite;
}

@keyframes blink-soft {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

/* Efeito ao clicar na carta fechada (será adicionado via JS) */
#initial-screen.closing #closed-letter-img {
    transform: scale(0) rotate(180deg);
    opacity: 0;
}
#initial-screen.closing #tap-to-open-text {
    opacity: 0;
    transition: opacity 0.3s ease-out;
}


/* ===== CARTA ABERTA (CELULAR PRIMEIRO) ===== */
#opened-letter-container {
    width: 90%; /* Largura relativa à tela do celular */
    max-width: 380px; /* Limite para celulares maiores não ficarem muito largos */
    height: 88vh; /* Altura relativa à tela do celular */
    /* max-height NÃO DEFINIDO AQUI, deixamos vh controlar */
    background-color: transparent; /* Só para o container, o .parchment-bg terá a imagem */
    position: relative; /* Se precisar posicionar algo absoluto dentro */

    /* Animação de entrada da carta aberta */
    transform: scale(0.5) rotate(-10deg);
    opacity: 0;
    /* A transição será acionada ao remover a classe .hidden e adicionar .visible (via JS) */
}

#opened-letter-container.visible {
    transform: scale(1) rotate(0deg);
    opacity: 1;
    transition: transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.5s ease-in;
}

.parchment-bg {
    width: 100%;
    height: 100%;
    background-image: url('assets/carta-aberta-fundo.png');
    background-size: 100% 100%; /* Estica para preencher. Cuidado com distorção. */
    background-repeat: no-repeat;
    padding: 25px 25px 20px 25px; /* Topo, Laterais, Fundo */
    border-radius: 8px; /* Suaviza as bordas do pergaminho */
    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
    overflow: hidden; /* ESSENCIAL para não ter scroll no pergaminho */

    display: flex;
    flex-direction: column;
    align-items: center; /* Centraliza o brasão horizontalmente */
}

.crest-img {
    width: 55px; /* Tamanho do brasão para celular */
    height: auto;
    margin-bottom: 12px; /* Espaço abaixo do brasão */
}

#invitation-text-content {
    width: 100%;
    flex-grow: 1; /* Faz o texto ocupar o espaço vertical restante */
    overflow-y: auto; /* PARA TESTE INICIAL: DEIXE 'auto' para ver se precisa de scroll */
                      /* DEPOIS MUDE PARA 'hidden' */
    color: #4A3B31; /* Marrom escuro para o texto */
    font-size: clamp(12px, 3.9vw, 15px); /* Fonte para celular */
    line-height: 1.5; /* Entrelinhamento para celular */
    white-space: pre-wrap; /* Mantém as quebras de linha do JS */
    text-align: left;
    /* Adiciona um pequeno padding interno se o padding do .parchment-bg não for suficiente */
    /* padding: 0 5px; */
}

/* Estilo para o nome da aniversariante */
#invitation-text-content .guest-name {
    display: block; /* Para ocupar a linha e permitir centralização/margens */
    font-family: 'Cinzel Decorative', cursive;
    font-size: 1.8em; /* Relativo ao font-size do #invitation-text-content */
    color: #795548; /* Um tom de marrom mais forte */
    text-align: center;
    margin: 8px 0 12px 0; /* Espaçamento vertical */
}